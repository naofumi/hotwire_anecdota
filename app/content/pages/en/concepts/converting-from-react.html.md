---
title: Reactのリプレイス
section: Tips
layout: article
order: 500
---

## HTMLを移す

* JSXはHTMLと書き方が異なるところが意外と多いため（`class` => `className`や`for` => `htmlFor`など）、JSXをコピーしてくるよりもブラウザの開発者ツールからレンダリング済みのDOMをHTMLとしてコピーすることのほうが最終的に手間が少なくなります
* JSXのコンポーネントの切り方がERBのpartial, helperの切り方にうまく対応するとは限らないので、やはりレンダリング済みのDOMをまとめてコピーして、後からERBのコンポーネントに切っていくのが良いと思います

## コントローラ系が意外と大変

## 自動テスト

* Reactはコンポーネントごとにテストを下記、さらにsnapshotテストを作ることが多いと思いますが、一般にERBではそのようなテストは書きません
* 条件によって表示・非表示が切り替わるボタンなど、viewに重要なロジックを書き込んでしまっている場合はviewのユニットテストを書きます。ただしなるべくロジックをModelやHelperに持っていき、そこでテストした方がシンプルになりますので、そのように書き換えることが多いです
* Request Specで各viewを一回触るようなテストは書くべきです。RailsのERBはコンパイルされませんので、文法エラーがあっても実際にそこを表示させない限りはエラーになりません。可能な限り、最低限でも一回触るテストは書いた方が良いでしょう
